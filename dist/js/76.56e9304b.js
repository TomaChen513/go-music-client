"use strict";(self["webpackChunkmusic_client"]=self["webpackChunkmusic_client"]||[]).push([[76],{8045:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(3396),i=t(9749),c=t(3658),r=t(2167);function s(){const{proxy:e}=(0,a.FN)(),n=(0,i.oR)(),t=(0,a.Fl)((()=>n.getters.token));function s(e){return 0===e?"女":1===e?"男":void 0}function l(e){return e.split("-")[1]}function o(e){return e.split("-")[0]}function u(n){return!!t.value||(!1!==n&&e.$message({message:"请先登录",type:"warning"}),!1)}function g({id:n,url:t,pic:a,index:i,name:c,lyric:r,currentSongList:s}){const u=l(c),g=o(c);e.$store.dispatch("playMusic",{id:n,url:t,pic:a,index:i,songTitle:u,singerName:g,lyric:r,currentSongList:s})}async function p({songUrl:n,songName:t}){if(!n)return e.$message({message:"下载链接为空！",type:"error"}),void console.error("下载链接为空！");const a=await r.x.downloadMusic(n),i=document.createElement("a");i.download=`${t}.mp3`,i.style.display="none";const c=new Blob([a.data]);i.href=URL.createObjectURL(c),document.body.appendChild(i),i.click(),document.body.removeChild(i)}function d(n){e.$store.commit("setActiveNavName",n)}function v(n,t){switch(n){case c.wC.Search:e.$router.push({path:t.path,query:t.query});break;case c.wC.Home:case c.wC.SongSheet:case c.wC.SongSheetDetail:case c.wC.Singer:case c.wC.SingerDetail:case c.wC.Personal:case c.wC.PersonalData:case c.wC.Setting:case c.wC.SignIn:case c.wC.SignUp:case c.wC.SignOut:case c.wC.Lyric:case c.wC.Error:default:e.$router.push({path:t.path});break}}function m(n=-1){e.$router.go(n)}return{getUserSex:s,getSongTitle:l,getSingerName:o,changeIndex:d,checkStatus:u,playMusic:g,routerManager:v,goBack:m,downloadMusic:p}}},2476:function(e,n,t){t.d(n,{Z:function(){return C}});var a=t(3396),i=t(7139);const c={class:"play-list"},r={key:0,class:"play-title"},s={class:"play-body"},l=["onClick"],o=["onClick"],u={class:"card-name"};function g(e,n,t,g,p,d){const v=(0,a.up)("el-image"),m=(0,a.up)("yin-icon");return(0,a.wg)(),(0,a.iD)("div",c,[e.title?((0,a.wg)(),(0,a.iD)("div",r,(0,i.zw)(e.title),1)):(0,a.kq)("",!0),(0,a._)("ul",s,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.playList,((n,t)=>((0,a.wg)(),(0,a.iD)("li",{class:"card-frame",key:t},[(0,a._)("div",{class:"card",onClick:t=>e.goAblum(n)},[(0,a.Wm)(v,{class:"card-img",fit:"contain",src:e.attachImageUrl(n.pic)},null,8,["src"]),(0,a._)("div",{class:"mask",onClick:t=>e.goAblum(n)},[(0,a.Wm)(m,{class:"mask-icon",icon:e.BOFANG},null,8,["icon"])],8,o)],8,l),(0,a._)("p",u,(0,i.zw)(n.name||n.title),1)])))),128))])])}var p=t(4870),d=t(3089),v=t(8045),m=t(3658),f=t(2167),y=(0,a.aZ)({components:{YinIcon:d.Z},props:{title:String,playList:Array,path:String},setup(e){const{proxy:n}=(0,a.FN)(),{routerManager:t}=(0,v.Z)(),{path:i}=(0,p.BK)(e);function c(e){n.$store.commit("setSongDetails",e),t(i.value,{path:`/${i.value}/${e.id}`})}return{BOFANG:m.JO.BOFANG,goAblum:c,attachImageUrl:f.x.attachImageUrl}}}),w=t(89);const h=(0,w.Z)(y,[["render",g],["__scopeId","data-v-184e2a92"]]);var C=h},3089:function(e,n,t){t.d(n,{Z:function(){return u}});var a=t(3396);const i={class:"icon","aria-hidden":"true"},c=["xlink:href"];function r(e,n,t,r,s,l){return(0,a.wg)(),(0,a.iD)("svg",i,[(0,a._)("use",{"xlink:href":e.icon},null,8,c)])}var s=(0,a.aZ)({props:{icon:String}}),l=t(89);const o=(0,l.Z)(s,[["render",r]]);var u=o},9747:function(e,n,t){t.d(n,{Z:function(){return g}});var a=t(3396),i=t(7139);const c={class:"yin-nav"},r=["onClick"];function s(e,n,t,s,l,o){return(0,a.wg)(),(0,a.iD)("ul",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.styleList,((n,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:(0,i.C_)({active:n.name==e.activeName}),onClick:t=>e.handleChangeView(n)},(0,i.zw)(n.name),11,r)))),128))])}var l=(0,a.aZ)({props:{styleList:Array,activeName:String},emits:["click"],setup(){const{proxy:e}=(0,a.FN)();function n(n){e.$emit("click",n)}return{handleChangeView:n}}}),o=t(89);const u=(0,o.Z)(l,[["render",s],["__scopeId","data-v-7ec6ad2f"]]);var g=u},2076:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var a=t(3396),i=t(4870),c=t(9747),r=t(2476),s=t(3658),l=t(2167);const o={class:"play-list-container"};var u=(0,a.aZ)({setup(e){const n=(0,i.iH)("全部歌手"),t=(0,i.iH)(15),u=(0,i.iH)(1),g=(0,i.iH)([]),p=(0,a.Fl)((()=>g.value.slice((u.value-1)*t.value,u.value*t.value)));async function d(){const e=await l.x.getAllSinger();u.value=1,g.value=e.data}function v(e){u.value=e}function m(e){n.value=e.name,g.value=[],"全部歌手"===e.name?d():f(e.type)}async function f(e){const n=await l.x.getSingerOfSex(e);u.value=1,g.value=n.data}return d(),(e,l)=>{const d=(0,a.up)("el-pagination");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(c.Z,{styleList:(0,i.SU)(s.iH),activeName:n.value,onClick:m},null,8,["styleList","activeName"]),(0,a.Wm)(r.Z,{playList:(0,i.SU)(p),path:"singer-detail"},null,8,["playList"]),(0,a.Wm)(d,{class:"pagination",background:"",layout:"total, prev, pager, next","current-page":u.value,"page-size":t.value,total:g.value.length,onCurrentChange:v},null,8,["current-page","page-size","total"])])}}});const g=u;var p=g}}]);
//# sourceMappingURL=76.56e9304b.js.map