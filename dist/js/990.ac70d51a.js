"use strict";(self["webpackChunkmusic_client"]=self["webpackChunkmusic_client"]||[]).push([[990],{8045:function(e,a,n){n.d(a,{Z:function(){return l}});var t=n(3396),i=n(9749),c=n(3658),r=n(2167);function l(){const{proxy:e}=(0,t.FN)(),a=(0,i.oR)(),n=(0,t.Fl)((()=>a.getters.token));function l(e){return 0===e?"女":1===e?"男":void 0}function s(e){return e.split("-")[1]}function o(e){return e.split("-")[0]}function u(a){return!!n.value||(!1!==a&&e.$message({message:"请先登录",type:"warning"}),!1)}function g({id:a,url:n,pic:t,index:i,name:c,lyric:r,currentSongList:l}){const u=s(c),g=o(c);e.$store.dispatch("playMusic",{id:a,url:n,pic:t,index:i,songTitle:u,singerName:g,lyric:r,currentSongList:l})}async function d({songUrl:a,songName:n}){if(!a)return e.$message({message:"下载链接为空！",type:"error"}),void console.error("下载链接为空！");const t=await r.x.downloadMusic(a),i=document.createElement("a");i.download=`${n}.mp3`,i.style.display="none";const c=new Blob([t.data]);i.href=URL.createObjectURL(c),document.body.appendChild(i),i.click(),document.body.removeChild(i)}function v(a){e.$store.commit("setActiveNavName",a)}function p(a,n){switch(a){case c.wC.Search:e.$router.push({path:n.path,query:n.query});break;case c.wC.Home:case c.wC.SongSheet:case c.wC.SongSheetDetail:case c.wC.Singer:case c.wC.SingerDetail:case c.wC.Personal:case c.wC.PersonalData:case c.wC.Setting:case c.wC.SignIn:case c.wC.SignUp:case c.wC.SignOut:case c.wC.Lyric:case c.wC.Error:default:e.$router.push({path:n.path});break}}function m(a=-1){e.$router.go(a)}return{getUserSex:l,getSongTitle:s,getSingerName:o,changeIndex:v,checkStatus:u,playMusic:g,routerManager:p,goBack:m,downloadMusic:d}}},2476:function(e,a,n){n.d(a,{Z:function(){return C}});var t=n(3396),i=n(7139);const c={class:"play-list"},r={key:0,class:"play-title"},l={class:"play-body"},s=["onClick"],o=["onClick"],u={class:"card-name"};function g(e,a,n,g,d,v){const p=(0,t.up)("el-image"),m=(0,t.up)("yin-icon");return(0,t.wg)(),(0,t.iD)("div",c,[e.title?((0,t.wg)(),(0,t.iD)("div",r,(0,i.zw)(e.title),1)):(0,t.kq)("",!0),(0,t._)("ul",l,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.playList,((a,n)=>((0,t.wg)(),(0,t.iD)("li",{class:"card-frame",key:n},[(0,t._)("div",{class:"card",onClick:n=>e.goAblum(a)},[(0,t.Wm)(p,{class:"card-img",fit:"contain",src:e.attachImageUrl(a.pic)},null,8,["src"]),(0,t._)("div",{class:"mask",onClick:n=>e.goAblum(a)},[(0,t.Wm)(m,{class:"mask-icon",icon:e.BOFANG},null,8,["icon"])],8,o)],8,s),(0,t._)("p",u,(0,i.zw)(a.name||a.title),1)])))),128))])])}var d=n(4870),v=n(3089),p=n(8045),m=n(3658),y=n(2167),w=(0,t.aZ)({components:{YinIcon:v.Z},props:{title:String,playList:Array,path:String},setup(e){const{proxy:a}=(0,t.FN)(),{routerManager:n}=(0,p.Z)(),{path:i}=(0,d.BK)(e);function c(e){a.$store.commit("setSongDetails",e),n(i.value,{path:`/${i.value}/${e.id}`})}return{BOFANG:m.JO.BOFANG,goAblum:c,attachImageUrl:y.x.attachImageUrl}}}),h=n(89);const f=(0,h.Z)(w,[["render",g],["__scopeId","data-v-184e2a92"]]);var C=f},3089:function(e,a,n){n.d(a,{Z:function(){return u}});var t=n(3396);const i={class:"icon","aria-hidden":"true"},c=["xlink:href"];function r(e,a,n,r,l,s){return(0,t.wg)(),(0,t.iD)("svg",i,[(0,t._)("use",{"xlink:href":e.icon},null,8,c)])}var l=(0,t.aZ)({props:{icon:String}}),s=n(89);const o=(0,s.Z)(l,[["render",r]]);var u=o},9747:function(e,a,n){n.d(a,{Z:function(){return g}});var t=n(3396),i=n(7139);const c={class:"yin-nav"},r=["onClick"];function l(e,a,n,l,s,o){return(0,t.wg)(),(0,t.iD)("ul",c,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.styleList,((a,n)=>((0,t.wg)(),(0,t.iD)("li",{key:n,class:(0,i.C_)({active:a.name==e.activeName}),onClick:n=>e.handleChangeView(a)},(0,i.zw)(a.name),11,r)))),128))])}var s=(0,t.aZ)({props:{styleList:Array,activeName:String},emits:["click"],setup(){const{proxy:e}=(0,t.FN)();function a(a){e.$emit("click",a)}return{handleChangeView:a}}}),o=n(89);const u=(0,o.Z)(s,[["render",l],["__scopeId","data-v-7ec6ad2f"]]);var g=u},6990:function(e,a,n){n.r(a),n.d(a,{default:function(){return f}});var t=n(3396),i=n(4870),c=n(3658),r=n(2167),l=n(8045);const s={class:"play-list-container"};function o(e,a,n,i,c,r){const l=(0,t.up)("yin-nav"),o=(0,t.up)("play-list");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t.Wm)(l,{styleList:e.songStyle,activeName:e.activeName,onClick:e.handleChangeView},null,8,["styleList","activeName","onClick"]),(0,t.Wm)(o,{playList:e.data,path:"song-sheet-detail"},null,8,["playList"])])}var u=n(9747),g=n(2476),d=(0,t.aZ)({components:{YinNav:u.Z,PlayList:g.Z},setup(){const e=(0,i.iH)("热门推荐"),a=(0,i.iH)(10),n=(0,i.iH)(1),l=(0,i.iH)(c.cR),s=(0,i.iH)([]),o=(0,t.Fl)((()=>s.value.slice((n.value-1)*a.value,n.value*a.value)));async function u(){s.value=(await r.x.getSongList()).data,s.value=s.value.slice(79,90);for(let a=0;a<5;a++){let e=s.value[a];s.value[a]=s.value[9-a],s.value[10-a-1]=e}let e=s.value[3];s.value[3]=s.value[0],s.value[0]=e,n.value=1}async function g(e){s.value=(await r.x.getSongListOfStyle(e)).data,n.value=1}try{u()}catch(p){console.error(p)}async function d(a){e.value=a.name,s.value=[];try{"热门推荐"===a.name?await u():await g(a.name)}catch(p){console.error(p)}}function v(e){n.value=e}return{activeName:e,songStyle:l,pageSize:a,currentPage:n,allPlayList:s,data:o,handleChangeView:d,handleCurrentChange:v}}}),v=n(89);const p=(0,v.Z)(d,[["render",o]]);var m=p;const y=["src"];var w=(0,t.aZ)({setup(e){const a=(0,i.iH)([]),n=(0,i.iH)([]),{changeIndex:s}=(0,l.Z)();try{r.x.getSongList().then((e=>{a.value=e.data.sort().slice(0,10)})),r.x.getAllSinger().then((e=>{n.value=e.data.sort().slice(0,10)})),(0,t.bv)((()=>{s(c.ZF.Home)}))}catch(o){console.error(o)}return(e,a)=>{const n=(0,t.up)("el-carousel-item"),r=(0,t.up)("el-carousel");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(r,{class:"swiper-container",type:"card",height:"20vw",interval:4e3},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,i.SU)(c.Hk),((e,a)=>((0,t.wg)(),(0,t.j4)(n,{key:a},{default:(0,t.w5)((()=>[(0,t._)("img",{src:e.picImg},null,8,y)])),_:2},1024)))),128))])),_:1}),(0,t.Wm)(m)],64)}}});const h=(0,v.Z)(w,[["__scopeId","data-v-1d9c300c"]]);var f=h}}]);
//# sourceMappingURL=990.ac70d51a.js.map