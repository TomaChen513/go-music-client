"use strict";(self["webpackChunkmusic_client"]=self["webpackChunkmusic_client"]||[]).push([[525],{8045:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(3396),o=n(9749),a=n(3658),l=n(2167);function i(){const{proxy:e}=(0,r.FN)(),t=(0,o.oR)(),n=(0,r.Fl)((()=>t.getters.token));function i(e){return 0===e?"女":1===e?"男":void 0}function s(e){return e.split("-")[1]}function u(e){return e.split("-")[0]}function c(t){return!!n.value||(!1!==t&&e.$message({message:"请先登录",type:"warning"}),!1)}function p({id:t,url:n,pic:r,index:o,name:a,lyric:l,currentSongList:i}){const c=s(a),p=u(a);e.$store.dispatch("playMusic",{id:t,url:n,pic:r,index:o,songTitle:c,singerName:p,lyric:l,currentSongList:i})}async function d({songUrl:t,songName:n}){if(!t)return e.$message({message:"下载链接为空！",type:"error"}),void console.error("下载链接为空！");const r=await l.x.downloadMusic(t),o=document.createElement("a");o.download=`${n}.mp3`,o.style.display="none";const a=new Blob([r.data]);o.href=URL.createObjectURL(a),document.body.appendChild(o),o.click(),document.body.removeChild(o)}function g(t){e.$store.commit("setActiveNavName",t)}function m(t,n){switch(t){case a.wC.Search:e.$router.push({path:n.path,query:n.query});break;case a.wC.Home:case a.wC.SongSheet:case a.wC.SongSheetDetail:case a.wC.Singer:case a.wC.SingerDetail:case a.wC.Personal:case a.wC.PersonalData:case a.wC.Setting:case a.wC.SignIn:case a.wC.SignUp:case a.wC.SignOut:case a.wC.Lyric:case a.wC.Error:default:e.$router.push({path:n.path});break}}function f(t=-1){e.$router.go(t)}return{getUserSex:i,getSongTitle:s,getSingerName:u,changeIndex:g,checkStatus:c,playMusic:p,routerManager:m,goBack:f,downloadMusic:d}}},2024:function(e,t,n){function r(e){if(null==e||""==e)return"";const t=new Date(e),n=t.getFullYear(),r=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getDate()<10?"0"+t.getDate():t.getDate();return n+"-"+r+"-"+o}function o(e){if(null==e||""==e)return"";const t=new Date(e),n=t.getFullYear(),r=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getDate()<10?"0"+t.getDate():t.getDate(),a=t.getHours()<10?"0"+t.getHours():t.getHours(),l=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),i=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return n+"-"+r+"-"+o+" "+a+":"+l+":"+i}function a(e){let t=e.split("\n");const n=/\[\d{2}:\d{2}.(\d{3}|\d{2})\]/g,r=[];if(!/\[.+\]/.test(e))return[[0,e]];while(!n.test(t[0]))t=t.slice(1);0===t[t.length-1].length&&t.pop();for(const o of t){const e=o.match(n),t=o.replace(n,"");for(const n of e){const e=n.slice(1,-1).split(":");""!==t&&r.push([60*parseInt(e[0],10)+parseFloat(e[1]),t])}}return r.sort(((e,t)=>e[0]-t[0])),r}function l(e){let t=parseInt(e),n=0,r=0;t>60&&(n=parseInt((t/60).toString()),t=parseInt((t%60).toString()),n>60&&(r=parseInt((n/60).toString()),n=60));let o="";return o=parseInt(t.toString())<10?"0:0"+parseInt(t.toString()):"0:"+parseInt(t.toString()),n>0&&(o=parseInt(t.toString())<10?"0"+parseInt(t.toString()):parseInt(t.toString()).toString(),o=parseInt(n.toString())+":"+o),r>0&&(o=parseInt(t.toString())<10?"0"+parseInt(t.toString()):parseInt(t.toString()).toString(),o=parseInt(r.toString())+":"+parseInt(n.toString())+":"+o),o}n.d(t,{oy:function(){return r},p6:function(){return o},zu:function(){return a},ZC:function(){return l}})},3089:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(3396);const o={class:"icon","aria-hidden":"true"},a=["xlink:href"];function l(e,t,n,l,i,s){return(0,r.wg)(),(0,r.iD)("svg",o,[(0,r._)("use",{"xlink:href":e.icon},null,8,a)])}var i=(0,r.aZ)({props:{icon:String}}),s=n(89);const u=(0,s.Z)(i,[["render",l]]);var c=u},6721:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(3396);const o={class:"login-logo"};function a(e,t,n,a,l,i){const s=(0,r.up)("yin-icon");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r.Wm)(s,{icon:e.icon},null,8,["icon"])])}var l=n(3089),i=n(3658),s=(0,r.aZ)({components:{YinIcon:l.Z},data(){return{icon:i.JO.ERJI}}}),u=n(89);const c=(0,u.Z)(s,[["render",a],["__scopeId","data-v-4521b52c"]]);var p=c},7525:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(3396);const o=e=>((0,r.dD)("data-v-2ecc128f"),e=e(),(0,r.Cn)(),e),a={class:"sign"},l=o((()=>(0,r._)("div",{class:"sign-head"},[(0,r._)("span",null,"用户注册")],-1))),i=(0,r.Uk)("女"),s=(0,r.Uk)("男"),u=(0,r.Uk)("保密"),c=(0,r.Uk)("登录"),p=(0,r.Uk)("确定");function d(e,t,n,o,d,g){const m=(0,r.up)("yin-login-logo"),f=(0,r.up)("el-input"),w=(0,r.up)("el-form-item"),h=(0,r.up)("el-radio"),S=(0,r.up)("el-radio-group"),b=(0,r.up)("el-date-picker"),y=(0,r.up)("el-option"),_=(0,r.up)("el-select"),v=(0,r.up)("el-button"),F=(0,r.up)("el-form");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(m),(0,r._)("div",a,[l,(0,r.Wm)(F,{ref:"signUpForm","label-width":"70px","status-icon":"",model:e.registerForm,rules:e.SignUpRules},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{prop:"username",label:"用户名"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{modelValue:e.registerForm.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.registerForm.username=t),placeholder:"用户名"},null,8,["modelValue"])])),_:1}),(0,r.Wm)(w,{prop:"password",label:"密码"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{type:"password",placeholder:"密码",modelValue:e.registerForm.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.registerForm.password=t)},null,8,["modelValue"])])),_:1}),(0,r.Wm)(w,{prop:"sex",label:"性别"},{default:(0,r.w5)((()=>[(0,r.Wm)(S,{modelValue:e.registerForm.sex,"onUpdate:modelValue":t[2]||(t[2]=t=>e.registerForm.sex=t)},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{label:0},{default:(0,r.w5)((()=>[i])),_:1}),(0,r.Wm)(h,{label:1},{default:(0,r.w5)((()=>[s])),_:1}),(0,r.Wm)(h,{label:2},{default:(0,r.w5)((()=>[u])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(w,{prop:"phoneNum",label:"手机"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{placeholder:"手机",modelValue:e.registerForm.phoneNum,"onUpdate:modelValue":t[3]||(t[3]=t=>e.registerForm.phoneNum=t)},null,8,["modelValue"])])),_:1}),(0,r.Wm)(w,{prop:"email",label:"邮箱"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{modelValue:e.registerForm.email,"onUpdate:modelValue":t[4]||(t[4]=t=>e.registerForm.email=t),placeholder:"邮箱"},null,8,["modelValue"])])),_:1}),(0,r.Wm)(w,{prop:"birth",label:"生日"},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{type:"date",placeholder:"选择日期",modelValue:e.registerForm.birth,"onUpdate:modelValue":t[5]||(t[5]=t=>e.registerForm.birth=t),style:{width:"100%"}},null,8,["modelValue"])])),_:1}),(0,r.Wm)(w,{prop:"introduction",label:"签名"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{type:"textarea",placeholder:"签名",modelValue:e.registerForm.introduction,"onUpdate:modelValue":t[6]||(t[6]=t=>e.registerForm.introduction=t)},null,8,["modelValue"])])),_:1}),(0,r.Wm)(w,{prop:"location",label:"地区"},{default:(0,r.w5)((()=>[(0,r.Wm)(_,{modelValue:e.registerForm.location,"onUpdate:modelValue":t[7]||(t[7]=t=>e.registerForm.location=t),placeholder:"地区",style:{width:"100%"}},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.AREA,(e=>((0,r.wg)(),(0,r.j4)(y,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(w,{class:"sign-btn"},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{onClick:t[8]||(t[8]=t=>e.goBack())},{default:(0,r.w5)((()=>[c])),_:1}),(0,r.Wm)(v,{type:"primary",onClick:t[9]||(t[9]=t=>e.handleSignUp(e.formRef))},{default:(0,r.w5)((()=>[p])),_:1})])),_:1})])),_:1},8,["model","rules"])])],64)}var g=n(4870),m=n(8045),f=n(6721),w=n(2167),h=n(2024),S=n(3658),b=(0,r.aZ)({components:{YinLoginLogo:f.Z},setup(){const{proxy:e}=(0,r.FN)(),{routerManager:t,changeIndex:n}=(0,m.Z)(),o=(0,g.qj)({username:"",password:"",sex:"",phoneNum:"",email:"",birth:new Date,introduction:"",location:""});async function a(){let r=!0;if(e.$refs["signUpForm"].validate((e=>{if(!e)return r=!1})),!r)return;const a=new URLSearchParams;a.append("username",o.username),a.append("password",o.password),a.append("sex",o.sex),a.append("phone_num",o.phoneNum),a.append("email",o.email),a.append("birth",(0,h.oy)(o.birth)),a.append("introduction",o.introduction),a.append("location",o.location);try{const r=await w.x.SignUp(a);e.$message({message:r.message,type:r.type}),r.success&&(n(S.ZF.SignIn),t(S.wC.SignIn,{path:S.wC.SignIn}))}catch(l){console.error(l)}}return{SignUpRules:S._P,AREA:S.q1,registerForm:o,handleSignUp:a}}}),y=n(89);const _=(0,y.Z)(b,[["render",d],["__scopeId","data-v-2ecc128f"]]);var v=_}}]);
//# sourceMappingURL=525.25081d22.js.map